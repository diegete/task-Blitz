<body>
  

<div class="container">
    
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <h3 class="tituloLogin" >Bienvenido</h3>
    <div>
      <label for="username">Usuario</label>
      <input id="username" formControlName="username" type="text" />
    </div>

    <div>
      <label for="password">Contraseña</label>
      <input id="password" formControlName="password" type="password" />
    </div>

    <button type="submit" [disabled]="loginForm.invalid">Login</button>

    <!-- Botón para abrir el modal de registro -->
    <div class="register">
      <button type="button" class="btn btn-link" (click)="openModal()">¿No tiene cuenta? Regístrese aquí</button>
      <a (click)="forgot()">¿Olvidaste tu contraseña?</a>
    </div>
  </form>
</div>

<!-- Modal -->
<div *ngIf="isModalOpen" class="modal-overlay" (click)="closeModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>Crear Usuario</h2>
    <form  [formGroup]="modalForm" (ngSubmit)="createUser()" >
      <div class="form-group">
        <label for="username">Nombre de Usuario:</label>
        <input
          type="text"
          id="username"
          name="username"
          formControlName="username"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="email">Correo Electrónico:</label>
        <input
          type="email"
          id="email"
          name="email"
          formControlName="email"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="password">Contraseña:</label>
        <input
          type="password"
          id="password"
          name="password"
          formControlName="password"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="user_type">Tipo de Usuario:</label>
        <select
          id="user_type"
          name="user_type"
          formControlName="user_type"
          required
          class="form-control"
        >
          <option value="jefe">Jefe</option>
          <option value="empleado">Empleado</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="modalForm.invalid">Crear Usuario</button>
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Cerrar</button>
    </form>
  </div>
</div>

</body>