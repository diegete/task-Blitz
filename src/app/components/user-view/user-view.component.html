@if (userData) { <div class="container">
  <!-- Rect치ngulo de proyectos -->
  <div class="rectangulo-izquierda">
    <h2>
      Bienvenido: {{ userData?.username }}
      <!-- Bot칩n para mostrar invitaciones cerca del nombre de usuario -->
      <div class="invitation-button">
        <button (click)="toggleInvitations()">游닏 Invitaciones ({{ pendingInvitations.length }})</button>
      </div>
    </h2>
    
    <h3>Proyectos:</h3>
    <ul>
      <li *ngFor="let proyecto of userData?.proyectos" 
          [class.selected]="proyecto === selectedProject" 
          (click)="selectProject(proyecto)">
        {{ proyecto.title }}
      </li>
    </ul>
  </div>

  <!-- Rect치ngulo de tareas -->
  <div class="rectangulo-derecha">
    <h3>Tareas del proyecto seleccionado:</h3>
    <ul *ngIf="selectedProjectTasks.length > 0; else noTareas">
      <li *ngFor="let tarea of selectedProjectTasks" (click)="showTaskDetail(tarea)">
        {{ tarea.tarea.titulo }} <!-- Mostrar el t칤tulo de la tarea -->
      </li>
    </ul>
    <ng-template #noTareas>
      <p>No hay tareas asignadas para este proyecto o no ha seleccionado ning칰n proyecto.</p>
    </ng-template>
  </div>
</div>
}@else {
  <p>No hay datos de usuario.</p>
} 


  <!-- Modal para los detalles de la tarea -->
  <div class="modal" [class.open]="isModalOpen">
    <div class="modal-content">
      <h2>Detalles de la Tarea</h2>
      <form [formGroup]="taskUpdateForm" (ngSubmit)="enviarAvance()">
        <p><strong>T칤tulo:</strong> {{ selectedTask?.tarea.titulo }}</p>
        <p><strong>Descripci칩n:</strong> {{ selectedTask?.tarea.descripcion }}</p>
        <p><strong>Asignado por:</strong> {{ selectedTask?.asignado_por }}</p>
        <p><strong>Fecha de Asignaci칩n:</strong> {{ selectedTask?.fecha_asignacion | date: 'short' }}</p>
        <p><strong>Fecha entrega:</strong> {{ selectedTask?.tarea.fechamax | date: 'short' }}</p>
  
        <!-- Selector de avance con FormControl -->
        <label for="avance">Selecciona el Avance:</label>
        <select id="avance" formControlName="avance" required>
          <option value="iniciada">Iniciada</option>
          <option value="en curso">En Curso</option>
          <option value="finalizada">Finalizada</option>
        </select>
  
        <!-- Botones -->
        <button type="submit" [disabled]="taskUpdateForm.invalid">Enviar Avance</button>
        <button type="button" (click)="closeModal()">Cerrar</button>
      </form>
    </div>
  </div>
  
  


  <!-- Modal de invitaciones pendientes -->
  <div class="modal" [class.open]="isInvitationModalOpen">
    <div class="modal-content">
      <h2>Invitaciones pendientes</h2>
      <ul *ngIf="pendingInvitations.length > 0; else noInvitaciones">
        <li *ngFor="let invitation of pendingInvitations">
          <!-- Asegurarse de que el t칤tulo del proyecto aparezca -->
          <p><strong>Proyecto:</strong> {{ invitation.project.title }}</p>
          <button (click)="acceptInvitation(invitation.id)">Aceptar</button>
          <button (click)="rejectInvitation(invitation.id)">Rechazar</button>
        </li>
      </ul>
      <ng-template #noInvitaciones>
        <p>No tienes invitaciones pendientes.</p>
      </ng-template>
      <button type="button" (click)="closeInvitationModal()">Cerrar</button>
    </div>
  </div>



